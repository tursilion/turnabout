#include "structures.h"

// Remember to take into account that you might have the right object earlier than normal if you are loading a save game!
// take it into account if you can!

#ifdef LOCATION_IS_0
// just story                                 //  0                               1                               2                               3                               4                               5                               6                               7
const Story_t story[] =  {                    //  0123456789012345678901234567890101234567890123456789012345678901012345678901234567890123456789010123456789012345678901234567890101234567890123456789012345678901012345678901234567890123456789010123456789012345678901234567890101234567890123456789012345678901
{   PP_PHOENIX,  0,  PP_NONE    | CMD_ADDEV,     "?????? ??????? June 9th, 8:??PM"  },
{   EV_NONE,     0,  PP_NONE    | CMD_MUSPROLOG, "Time for negotiations..."  },
{   EV_BADGE,    0,  PP_NONE    | CMD_ADDEV,     "Forget it, I'm not doing it!"  },
{   EV_NONE,     0,  PP_NONE    | CMD_NONE,      "Do it or else!"  },
{   EV_NONE,     0,  PP_NONE    | CMD_NONE,      "I don't care about that anymore..."  },
{   EV_NONE,     0,  PP_NONE    | CMD_NONE,      "Besides... I have a better idea..."  },
{   EV_NONE,     0,  PP_NONE    | CMD_NONE,      "WHAT?!"  },
{   EV_MAGATAMA, 0,  PP_NONE    | CMD_ADDEV,     "Enjoy the parting gift!"  },
{   EV_NONE,     1,  PP_NONE    | CMD_STOPMUS,   ""  },
{   EV_NONE,     1,  PP_NONE    | CMD_FLASH,     ""  },
{   EV_NONE,     1,  PP_NONE    | CMD_BLACK,     "June 9th, 9:43PM Wright and Co. Law Offices" },
{   EV_NONE,     3,  PP_NONE    | CMD_MUSSTEEL,  "(*ring*)"  },
{   EV_NONE,     3,  PP_PHOENIX | CMD_STOPMUS,   "Phoenix Wright and Co. Office. \"Defending YOU like it's nuttin', baby\"!"   },
{   EV_NONE,     3,  PP_PHOENIX | CMD_NONE,      "...No ...sorry... I-I don't need a vegetable dicer..." },
{   EV_NONE,     3,  PP_PHOENIX | CMD_NONE,      "I'm sure that...ugh..." },
{   EV_NONE,     2,  PP_PHOENIX | CMD_NONE,      "That silly slogan Maya came up with must be what's making business this slow, I should really have it revised..." },
{   EV_NONE,     2,  PP_PHOENIX | CMD_NONE,      "Scratch that! I NEED to have it revised! What a ridiculous slogan! Who are we trying to attract, grade school students?" },
{   EV_NONE,     2,  PP_PHOENIX | CMD_NONE,      "I guess it is a good sign though..." },
{   EV_NONE,     2,  PP_PHOENIX | CMD_NONE,      "The fewer people who need an attorney the fewer problems there are in the world." },
{   EV_NONE,     2,  PP_PHOENIX | CMD_NONE,      "Unfortunately sunshine and smiles don't pay the bills." },
{   EV_NONE,     2,  PP_PHOENIX | CMD_NONE,      "Guess I can at least call it early tonight." },
{   EV_NONE,     2,  PP_PHOENIX | CMD_BOOMSFX,   "ARGH!" },
{   EV_NONE,     2,  PP_PHOENIX | CMD_MUSSUSPENSE,"W-what's going on!?"},
{   EV_NONE,     2,  PP_PHOENIX | CMD_FLASH,     "I can't move my body!" },
{   EV_NONE,     2,  PP_PHOENIX | CMD_NONE,      "(Wait, is my hand fading away?!)" },
{   EV_NONE,     2,  PP_PHOENIX | CMD_NONE,      "Getting...Dizzy... am I... dying...?" },
{   1,           2,  PP_PHOENIX | CMD_ENDSTORY,  "" }   // go to location 1 (negative value to flag)
};
#endif

#ifdef LOCATION_IS_1
//      story                                 //  0                               1                               2                               3                               4                               5                               6                               7
const Story_t story[] =  {                    //  0123456789012345678901234567890101234567890123456789012345678901012345678901234567890123456789010123456789012345678901234567890101234567890123456789012345678901012345678901234567890123456789010123456789012345678901234567890101234567890123456789012345678901
{   EV_NONE,     4,  PP_NONE    | CMD_BLACK,     "?????????????? June 9th, 9:45PM"  },
{   EV_NONE,     4,  PP_PHOENIX | CMD_BLACK,     "Ughhhhh..."  },
{   EV_NONE,     4,  PP_UNKNOWN | CMD_BLACK,     "Hey! Who the heck are you?!"  },
{   EV_NONE,     4,  PP_PHOENIX | CMD_BLACK,     "(...Whose voice is that?)"  },
{   EV_NONE,     4,  PP_UNKNOWN | CMD_BLACK,     "For that matter WHAT the heck are you?"  },
{   EV_NONE,     4,  PP_PHOENIX | CMD_BLACK,     "(\"What am I?\" What kind of question is that, does she mean my profession?)"  },
{   EV_NONE,     4,  PP_UNKNOWN | CMD_BLACK,     "I wanted the best Defense Attorney in Equestria, not some... porcupine thing."  },
{   EV_NONE,     4,  PP_PHOENIX | CMD_BLACK,     "(*Sigh* Does my hair really look like a porcupine...?)"  },
{   EV_NONE,     4,  PP_PHOENIX | CMD_BLACK,     "(My muscles are coming to, I think I can open my eyes.)"  },
{   EV_NONE,     4,  PP_PHOENIX | CMD_NONE,      "Huh? Where am I?"  },
{   EV_NONE,     5,  PP_UNKNOWN | CMD_NONE,      "Hey! You're a human, aren't you?"  },
{   EV_NONE,     5,  PP_PHOENIX | CMD_NONE,      "Yeah... I'm a human..."  },
{   EV_NONE,     5,  PP_PHOENIX | CMD_FLASH,     "WAIT WHAT?!"  },
{   EV_NONE,     6,  PP_UNKNOWN | CMD_MUSTRUCY,  "A human in Equestria, that's amazing!"  },
{   EV_NONE,     6,  PP_PHOENIX | CMD_NONE,      "Y-YOU'RE A TALKING HORSE!"  },
{   EV_NONE,     7,  PP_UNKNOWN | CMD_NONE,      "Excuse me! I am not a horse, I happen to be a pony."  },
{   EV_NONE,     5,  PP_PHOENIX | CMD_NONE,      "OH! Okay! A talking PONY. That explains everything!"  },
{   EV_NONE,     5,  PP_PHOENIX | CMD_NONE,      "I must be in a dream... a really REALLY bad dream."  },
{   EV_NONE,     7,  PP_UNKNOWN | CMD_NONE,      "I'm pretty sure you're not, let's conduct an experiment..."  },
{   EV_NONE,     7,  PP_PHOENIX | CMD_FLASH,     "Ow! What was that for?!"  },
{   EV_NONE,     8,  PP_UNKNOWN | CMD_NONE,      "You acknowledged pain, therefore that definitely means you aren't dreaming."  },
{   EV_NONE,     8,  PP_PHOENIX | CMD_NONE,      "(This thing has a really sick sense of humor.)"  },
{   EV_NONE,     5,  PP_UNKNOWN | CMD_NONE,      "Wait... are you a defense attorney?"  },
{   EV_NONE,     5,  PP_PHOENIX | CMD_NONE,      "Of course I am!"  },
{   EV_NONE,     5,  PP_PHOENIX | CMD_NONE,      "(Why am I talking to it?!)"  },
{   EV_NONE,     9,  PP_UNKNOWN | CMD_NONE,      "Oh... oops... my mistake."  },
{   EV_NONE,     9,  PP_PHOENIX | CMD_NONE,      "What do you mean \"oops\"?"  },
{   EV_NONE,     7,  PP_UNKNOWN | CMD_NONE,      "Well, I cast a spell to call upon \"The Greatest Defense Attorney in Equestria\""  },
{   EV_NONE,     7,  PP_PHOENIX | CMD_NONE,      "What is Equestria?"  },
{   EV_NONE,    10,  PP_UNKNOWN | CMD_NONE,      "The name of this country."  },
{   EV_NONE,    11,  PP_PHOENIX | CMD_NONE,      "But I'm not FROM this country!"  },
{   EV_NONE,    10,  PP_UNKNOWN | CMD_NONE,      "I must have left out the \"Equestria\" part when I cast the spell."  },
{   EV_NONE,     9,  PP_UNKNOWN | CMD_NONE,      "I guess I accidentally called upon \"The Greatest Defense Attorney\" period."  },
{   EV_NONE,     9,  PP_UNKNOWN | CMD_NONE,      "Go figure, huh?"  },
{   EV_T_SNDBCK, 9,  PP_PHOENIX | CMD_ADDPROMPT, "Send me back"  },
{   EV_T_WHORU,  9,  PP_PHOENIX | CMD_ADDPROMPT, "Who are you?"  },
{   EV_NONE,     9,  PP_PHOENIX | CMD_NONE,      "(Oh cosmos, you flatter me.)"  },
{   EV_NONE,     9,  PP_PHOENIX | CMD_SELPROMPT, ""  },

{  EV_T_SNDBCK,  5 , PP_PHOENIX  | CMD_NONE,     "Well, can you please send me back... like RIGHT NOW?!"  },
{   EV_NONE,     10, PP_UNKNOWN  | CMD_NONE,     "Sure thing..."  },
{   EV_NONE,     6 , PP_UNKNOWN  | CMD_NONE,     "Actually... this is perfect!"  },
{   EV_NONE,     6 , PP_PHOENIX  | CMD_NONE,     "(Oh please don't tell me this is going where I think it is...)"  },
{   EV_NONE,     10, PP_UNKNOWN  | CMD_NONE,     "You see I am in need of a really good defense attorney..."  },
{   EV_NONE,     10, PP_PHOENIX  | CMD_NONE,     "(... aaaaaaand it does go where I think it is...)"  },
{   EV_NONE,     6 , PP_UNKNOWN  | CMD_NONE,     "And you just happen to be here..."  },
{   EV_NONE,     12, PP_PHOENIX  | CMD_NONE,     "Actually, you kidnapped me with your freaky spell, remember..."  },
{   EV_NONE,     7 , PP_UNKNOWN  | CMD_NONE,     "A minor distinction..."  },
{   EV_NONE,     7 , PP_PHOENIX  | CMD_NONE,     "MINOR!?"  },
{   EV_NONE,     6 , PP_UNKNOWN  | CMD_NONE,     "Yes... but would you be willing to represent my friend?"  },
{   EV_NONE,     5 , PP_PHOENIX  | CMD_NONE,     "...To be honest... I'm still shocked I am in a library talking to a purple hors-err I mean... pony..."  },
{   EV_NONE,     5 , PP_PHOENIX  | CMD_NONE,     "Can you just send me home, please, and get someone else to do it?"  },
{   EV_NONE,     13, PP_UNKNOWN  | CMD_NONE,     "Look, I really need help... my friend's life is at stake here..."  },
{   EV_NONE,     13, PP_UNKNOWN  | CMD_SELPROMPT,""  },

{  EV_T_SNDBCK2, 5 , PP_PHOENIX  | CMD_NONE,     "Well, can you please send me back... like RIGHT NOW?!"  },
{   EV_NONE,     10, PP_TWILIGHT | CMD_NONE,     "Sure thing..."  },
{   EV_NONE,     6 , PP_TWILIGHT | CMD_NONE,     "Actually... this is perfect!"  },
{   EV_NONE,     6 , PP_PHOENIX  | CMD_NONE,     "(Oh please don't tell me this is going where I think it is...)"  },
{   EV_NONE,     10, PP_TWILIGHT | CMD_NONE,     "You see I am in need of a really good defense attorney..."  },
{   EV_NONE,     10, PP_PHOENIX  | CMD_NONE,     "(... aaaaaaand it does go where I think it is...)"  },
{   EV_NONE,     6 , PP_TWILIGHT | CMD_NONE,     "And you just happen to be here..."  },
{   EV_NONE,     12, PP_PHOENIX  | CMD_NONE,     "Actually, you kidnapped me with your freaky spell, remember..."  },
{   EV_NONE,     7 , PP_TWILIGHT | CMD_NONE,     "A minor distinction..."  },
{   EV_NONE,     7 , PP_PHOENIX  | CMD_NONE,     "MINOR!?"  },
{   EV_NONE,     6 , PP_TWILIGHT | CMD_NONE,     "Yes... but would you be willing to represent my friend?"  },
{   EV_NONE,     5 , PP_PHOENIX  | CMD_NONE,     "...Honest... I'm still shocked I am in a library talking to a purple hors-err I mean... pony..."  },
{   EV_NONE,     5 , PP_PHOENIX  | CMD_NONE,     "Can you just send me home, please, and get someone else to do it?"  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_NONE,     "Look, I really need help... my friend's life is at stake here..."  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_SELPROMPT,""  },

{  EV_T_WHORU,   5 , PP_PHOENIX  | CMD_NONE,     "Let me just get my head together. This is a little too much for me."  },
{   EV_NONE,     5 , PP_PHOENIX  | CMD_NONE,     "First off, who are you and where am I?"  },
{   PP_TWILIGHT, 10, PP_TWILIGHT | CMD_ADDEV,    "My name is Twilight Sparkle. I'm a disciple of \"Princess Celestia\", the monarch of this land."  },
{   EV_NONE,     10, PP_TWILIGHT | CMD_NONE,     "I am chronicling the magic of friendship for her and you're in the town of Ponyville."  },
{   EV_NONE,     5 , PP_PHOENIX  | CMD_NONE,     "Celestia? Magic of Friendship? Ponyville?... Wait a minute, are you saying there are more talking ponies?!"  },
{   EV_NONE,     6 , PP_TWILIGHT | CMD_NONE,     "Mhm, almost all of Ponyville's inhabitants are ponies."  },
{   EV_NONE,     6 , PP_PHOENIX  | CMD_NONE,     "Oh joy, this keeps getting better and better."  },
{   EV_NONE,     10, PP_TWILIGHT | CMD_NONE,     "Hey, I know! Be right back!"  },
{   EV_NONE,     4 , PP_PHOENIX  | CMD_NONE,     "(Whoa! Is she moving books around with that horn?)"  },
{   EV_NONE,     6 , PP_TWILIGHT | CMD_NONE,     "Found it! Here you go! You're new here, so you can read this... uh... \"detailed\" encyclopedia of the different ponies in Equestria."  },
{   EV_NONE,     14, PP_PHOENIX  | CMD_NONE,     "Hmmm... wait! This says it's \"For early ages\" on the cover!"  },
{   EV_NONE,     14, PP_PHOENIX  | CMD_NONE,     "This is a children's book!"  },
{   EV_NONE,     9 , PP_TWILIGHT | CMD_NONE,     "Well you see... this stuff is kind of common knowledge."  },
{   EV_FILLIES,  15, PP_NONE     | CMD_ADDEV,    "The Fillies Guide to Ponies: Earth Ponies founded Land. Unicorns use magic. Pegasi soar through the air."  },
{   EV_NONE,     9 , PP_PHOENIX  | CMD_NONE,     "You call this detailed! I read the whole book cover to cover in ten seconds flat..."  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_STOPMUS,  "*Sigh*"  },
{   EV_NONE,     13, PP_PHOENIX  | CMD_NONE,     "Hey... I'm sorry. I guess I shouldn't look a gift horse in the mouth."  },
{   EV_NONE,     13, PP_PHOENIX  | CMD_NONE,     "(Should I have said Pony there, I wonder...?)"  },
{   EV_T_SNDBCK, EV_T_SNDBCK2, PP_PHOENIX  | CMD_CHANGEPROMPT, ""  }, // update target of SNDBCK since we know the name now
{   EV_T_CRIME,  13, PP_PHOENIX  | CMD_ADDPROMPT,"What was the crime?"  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_NONE,     "No, it's not that. It's my friend... I know she is not guilty but she is going to be punished for a crime she didn't even commit."  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_SELPROMPT,""  },

{  EV_T_CRIME,   13, PP_PHOENIX  | CMD_NONE,     "What kind of crime is she being accused of?"  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_NONE,     "Murder..."  },
{   EV_NONE,     13, PP_PHOENIX  | CMD_NONE,     "(Surprise, surprise...)"  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_NONE,     "Murder never happens in Ponyville, or Equestria for that matter, so the punishment is very severe."  },
{   EV_NONE,     13, PP_PHOENIX  | CMD_NONE,     "What is the punishment?"  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_NONE,     "Banishment..."  },
{   EV_NONE,     13, PP_PHOENIX  | CMD_NONE,     "Well that isn't so bad compared to-"  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_NONE,     "To the moon... or even the sun..."  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_NONE,     "I have convinced the Princess to go easy on her but she will have no choice if the verdict ends up being guilty."  },
{   EV_T_DETAIL, 9,  PP_PHOENIX  | CMD_ADDPROMPT,"Any details?"  },
{   EV_NONE,     13, PP_PHOENIX  | CMD_NONE,     "(And forget what I just said, sheesh! If being sent to the sun is \"going easy on someone\" then remind me never to do anything bad in this place.)"  },
{   EV_NONE,     13, PP_PHOENIX  | CMD_SELPROMPT,""  },

{   EV_T_DETAIL, 13, PP_PHOENIX  | CMD_NONE,     "So...uh...Twilight, do you know any details about the crime?"  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_NONE,     "Not much, all I know was my friend was near the scene of the crime when the murder took place. That is why she's the prime suspect."  },
{   EV_NONE,     13, PP_PHOENIX  | CMD_NONE,     "Where is she right now?"  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_NONE,     "In the Ponyville Detention Center."  },
{   EV_NONE,     13, PP_PHOENIX  | CMD_NONE,     "Have you spoken with her since?"  },
{   EV_NONE,     5 , PP_TWILIGHT | CMD_NONE,     "I would but the guards won't let me in."  },
{   EV_NONE,     5 , PP_PHOENIX  | CMD_NONE,     "They won't let you in? Why not?"  },
{   EV_NONE,     13, PP_TWILIGHT | CMD_NONE,     "I can only get in there with a Defense Attorney which is why I was trying to call one."  },
{   EV_NONE,     13, PP_PHOENIX  | CMD_NONE,     "Okay then. Since I'm a Defense Attorney, let's go to this Detention Center."  },
{   EV_NONE,     6 , PP_TWILIGHT | CMD_MUSTRUCY, "Really! So you'll take the case?!"  },
{   EV_NONE,     6 , PP_PHOENIX  | CMD_NONE,     "Hey hey... I haven't decided that yet. I just thought the least I could do is help you get in to speak with your friend."  },
{   EV_NONE,     6 , PP_TWILIGHT | CMD_NONE,     "Thank you for your kindness, Phoenix Wright."  },
{   EV_NONE,     5 , PP_PHOENIX  | CMD_STOPMUS,  "How did you know my name? I haven't introduced myself yet..."  },
{   EV_NONE,     16, PP_TWILIGHT | CMD_NONE,     "Oh-uh... I did... uh.. a quick identification spell."  },
{   EV_NONE,     16, PP_PHOENIX  | CMD_NONE,     "Identification spell?"  },
{   EV_NONE,     10, PP_TWILIGHT | CMD_NONE,     "Yeah! An identification spell! Anyway, let me prepare a few things, then we can go to the Detention Center."  },
{   EV_NONE,     4,  PP_PHOENIX  | CMD_NONE,     "(After I get her inside there with her friend, I'll let her off easy and make her send me back home. There is no way I'm taking a case this weird...)"  },
{   2,           4 , PP_PHOENIX  | CMD_ENDSTORY, ""  }
};

#endif

#ifdef LOCATION_IS_2
//      story                                    //  0                               1                               2                               3                               4                               5                               6                               7
const Story_t story[] =  {                       //  0123456789012345678901234567890101234567890123456789012345678901012345678901234567890123456789010123456789012345678901234567890101234567890123456789012345678901012345678901234567890123456789010123456789012345678901234567890101234567890123456789012345678901
{   EV_NONE,    17,     PP_NONE     | CMD_NONE,     "Ponyville June 9th, 10:05PM"   },
{   EV_NONE,    17,     PP_PHOENIX  | CMD_NONE,     "I have never felt like such a minority in my life!"    },
{   EV_NONE,    18,     PP_TWILIGHT | CMD_NONE,     "Oh, it wasn't that bad."   },
{   EV_NONE,    18,     PP_PHOENIX  | CMD_NONE,     "All those ponies were gawking at me the whole way here!"   },
{   EV_NONE,    19,     PP_TWILIGHT | CMD_NONE,     "Mr. Wright, humans have almost never been seen in Equestria."   },
{   EV_NONE,    18,     PP_TWILIGHT | CMD_NONE,     "In fact you may be the first one in Ponyville."   },
{   EV_NONE,    20,     PP_TWILIGHT | CMD_NONE,     "You should be honored!"   },
{   EV_NONE,    20,     PP_PHOENIX  | CMD_NONE,     "(Honored? Strolling around a town infested with candy colored equines...)"   },
{   EV_NONE,    20,     PP_PHOENIX  | CMD_NONE,     "(Yeah, maybe I'd feel honored if I was... Oh, I dunno... a five year old girl!)"   },

{   EV_T_HUMAN, 20,     PP_PHOENIX  | CMD_ADDPROMPT, "How did you know?"  },
{   EV_T_NOHUMAN, 20,   PP_PHOENIX  | CMD_ADDPROMPT, "Let it go"  },
{   EV_NONE,     20,    PP_PHOENIX  | CMD_SELPROMPT, ""  },

{   EV_T_HUMAN, 20,     PP_PHOENIX  | CMD_NONE,     "So how did you know I was a human?"   },
{   EV_NONE,    21,     PP_TWILIGHT | CMD_NONE,     "I read a lot!"   },
{   EV_NONE,    21,     PP_TWILIGHT | CMD_NONE,     "I've read almost every book in my library five times over and I am familiar with a lot of different species:"   },
{   EV_NONE,    20,     PP_TWILIGHT | CMD_NONE,     "Chimeras, Trolls, Basilisks, Goblins, et cetera, et cetera."   },
{   EV_NONE,    20,     PP_PHOENIX  | CMD_NONE,     "(Wait!? You're telling me she has read every book in that gigantic library FIVE TIMES?!)"   },

{   EV_T_NOHUMAN, 19,   PP_TWILIGHT | CMD_NONE,     "Anyway we're here, Phoenix."   },
{   PP_GUARD,   22,     PP_GUARD    | CMD_ADDEV,    "Halt! Only a lawyer can enter the detention center."   },
{   EV_NONE,    18,     PP_TWILIGHT | CMD_NONE,     "Well, go on..."   },
{   EV_NONE,    22,     PP_PHOENIX  | CMD_NONE,     "Uh... Hi guys, I'm a lawyer..."   },
{   EV_NONE,    22,     PP_GUARD    | CMD_NONE,     "Identification!"   },

{   EV_NONE,    22,     PP_GUARD    | CMD_SHOWEV,   "Present your identification"   },
{   EV_BADGE,EV_T_LAWYERBADGE, PP_GUARD|CMD_JUMPIFSHOW, "" }, 
{  EV_E_BADGE,EV_T_RIGHTBADGE, PP_GUARD|CMD_JUMPIFSHOW, "" }, 
{   EV_T_NOBADGE,22,    PP_GUARD    | CMD_JUMP,     "" }, 

{   EV_T_LAWYERBADGE, 22, PP_PHOENIX| CMD_NONE,     "Ah!... Right here!"   },
{   EV_NONE,    23,     PP_PHOENIX  | CMD_NONE,     "(Never leave home without it!)"   },
{   EV_NONE,    23,     PP_GUARD    | CMD_NONE,     "What is that?"   },
{   EV_NONE,    23,     PP_GUARD    | CMD_NONE,     "Is that a toy? You look a little old to be playing with toys."   },
{   EV_NONE,    23,     PP_PHOENIX  | CMD_NONE,     "(Next time I am leaving it at home...)"   },

{   EV_T_NOBADGE,22,    PP_GUARD    | CMD_NONE,     "You cannot pass without valid Equestrian identification."   },
{   EV_NONE,    22,     PP_PHOENIX  | CMD_NONE,     "But I don't have any..."   },
{   EV_NONE,    22,     PP_GUARD    | CMD_NONE,     "Then beat it Spiky!"   },
{   EV_NONE,    19,     PP_PHOENIX  | CMD_NONE,     "Twilight! They're not letting me in."   },
{   EV_NONE,    20,     PP_TWILIGHT | CMD_NONE,     "Oh that's right, Mr. Wright! I was supposed to give you this."   },
{   EV_NONE,    24,     PP_TWILIGHT | CMD_CLRPROMPT,"The princess ordered me to give you this earlier today. A permit to defend in Equestria."   },

{   EV_T_QUESTIONBADGE,24,PP_PHOENIX| CMD_ADDPROMPT,"That seems odd..."   },
{   EV_T_NOQBADGE,24,   PP_PHOENIX | CMD_ADDPROMPT, "That's fine."        },
{   EV_NONE,     24,    PP_PHOENIX  | CMD_SELPROMPT, ""  },

{EV_T_QUESTIONBADGE,24, PP_PHOENIX  | CMD_NONE,     "I see... wait..."   },
{   EV_NONE,    25,     PP_PHOENIX  | CMD_NONE,     "I thought you accidentally brought me here. How could your princess have had that prepared for me?"   },
{   EV_NONE,    26,     PP_TWILIGHT | CMD_NONE,     "O-oh uh What I meant was... I had my assistant Spike prepare it before we left."   },
{   EV_NONE,    26,     PP_PHOENIX  | CMD_NONE,     "Spike? I didn't see anyone else in that library..."   },
{   EV_NONE,    25,     PP_TWILIGHT | CMD_NONE,     "He was sleeping. It's late as you can see, I had to wake him up and have him prepare it. That's why it took a little while to leave."   },
{   EV_NONE,    27,     PP_TWILIGHT | CMD_NONE,     "I'll properly introduce you to him later."   },
{   EV_NONE,    28,     PP_PHOENIX  | CMD_NONE,     "You prepared a permit in twenty minutes? I find that a little fishy..."   },
{   EV_NONE,    29,     PP_TWILIGHT | CMD_NONE,     "Save the questions for my friend, just take the badge!"   },
{   EV_NONE,    29,     PP_PHOENIX  | CMD_NONE,     "(This isn't helping me accept your request, you know...)"   },

{ EV_T_NOQBADGE,30,     PP_PHOENIX  | CMD_NONE,     "Equestrian Attorney Badge. A heart shaped badge that gives all the privileges of an Equestrian defense attorney."  },
{ EV_E_BADGE,   19,     PP_PHOENIX  | CMD_ADDEV,    "A heart..."   },
{   EV_NONE,    19,     PP_PHOENIX  | CMD_NONE,     "(I feel my masculinity going... going... gone.)"   },
{   EV_NONE,    31,     PP_TWILIGHT | CMD_NONE,     "Come on, hurry up! Visiting hours are almost over."   },
{   EV_NONE,    31,     PP_PHOENIX  | CMD_NONE,     "Alright, alright! No need to shove me..."   },
{   EV_NONE,    32,     PP_PHOENIX  | CMD_NONE,     "Okay... guys here it is..."   },
{   EV_NONE,    32,     PP_PHOENIX  | CMD_NONE,     "(This is so degrading...)"   },

{ EV_T_RIGHTBADGE,32,   PP_GUARD    | CMD_NONE,     "Permission granted, you may enter."   },
{   EV_NONE,    32,     PP_PHOENIX  | CMD_NONE,     "Phew... alrighty!"   },
{   EV_NONE,    19,     PP_PHOENIX  | CMD_NONE,     "Come on Twilight, you can go speak with your friend now."   },
{   EV_NONE,    33,     PP_TWILIGHT | CMD_NONE,     "Sorry Phoenix..."   },
{   EV_NONE,    33,     PP_PHOENIX  | CMD_NONE,     "Sorry? About what?"   },
{   EV_NONE,    33,     PP_TWILIGHT | CMD_NONE,     "I am not allowed in, only attorneys are allowed to speak with suspects..."   },
{   EV_NONE,    33,     PP_PHOENIX  | CMD_NONE,     "But you said..."   },
{   EV_NONE,    19,     PP_TWILIGHT | CMD_NONE,     "I know I said I'd talk to her but it'd be better if you got all the details about the crime to make your judgement."   },
{   EV_NONE,    19,     PP_TWILIGHT | CMD_NONE,     "Just please hear her out... if you don't want to do it after that..."   },
{   EV_NONE,    33,     PP_TWILIGHT | CMD_NONE,     "I'll send you back to where you came from..."   },
{   EV_NONE,    33,     PP_PHOENIX  | CMD_CLRPROMPT, "But I-"   },

{   EV_T_CONCERN,24,    PP_PHOENIX  | CMD_ADDPROMPT, "Concerned..."   },
{   EV_T_NOCONCERN,24,  PP_PHOENIX  | CMD_ADDPROMPT, "See what it's all about."        },
{   EV_NONE,     24,    PP_PHOENIX  | CMD_SELPROMPT, ""  },

{   EV_T_CONCERN, 33,   PP_PHOENIX  | CMD_NONE,     "(Should I really be doing this...?)"   },
{   EV_NONE,    33,     PP_PHOENIX  | CMD_NONE,     "(Should I really be meddling in some other world's affair...?)"   },
{   EV_NONE,    33,     PP_PHOENIX  | CMD_NONE,     "(Maybe I should at least hear what all this fuss is about...)"   },

{ EV_T_NOCONCERN, 33,   PP_PHOENIX  | CMD_NONE,     "Sigh... Fine..."   },
{   EV_NONE,    20,     PP_TWILIGHT | CMD_NONE,     "Thank you so much, Mr. Wright."   },
{   3,          20,     PP_NONE     | CMD_ENDSTORY, ""  }   // go to location 3

};
#endif

#ifdef LOCATION_IS_3
//      story                                    //  0                               1                               2                               3                               4                               5                               6                               7
const Story_t story[] =  {                       //  0123456789012345678901234567890101234567890123456789012345678901012345678901234567890123456789010123456789012345678901234567890101234567890123456789012345678901012345678901234567890123456789010123456789012345678901234567890101234567890123456789012345678901

{   EV_NONE,    34,     PP_NONE     | CMD_NONE,     "Ponyville Detention Center June 9th, 10:15PM"      },
{   EV_NONE,    34,     PP_PHOENIX  | CMD_NONE,     "Okay, so where is Twilight's friend?"      },
{   EV_NONE,    35,     PP_UNKNOWN  | CMD_CHIMESFX, "Hey!"      },
{   EV_NONE,    35,     PP_PHOENIX  | CMD_NONE,     "Eh?! What did I do?!"      },
{   EV_NONE,    36,     PP_UNKNOWN  | CMD_NONE,     "I don't think they allow animals in here, you should get out before they toss you in here too."      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "Look, I am not an animal. I'm a human being!"      },
{   EV_NONE,    37,     PP_UNKNOWN  | CMD_NONE,     "Oh... I didn't mean you, I meant that thing on your head."      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "(If someone makes fun of my hair ONE more time...)"      },
{   EV_NONE,    37,     PP_UNKNOWN  | CMD_MUSGUILTY,"So I'm guessing you're my lawyer, huh?"      },
{   EV_NONE,    37,     PP_PHOENIX  | CMD_NONE,     "Yes, Twilight Sparkle sent me..."      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_BOOMSFX,  "Wait! No! I haven't agreed to anything yet!"      },
{   EV_NONE,    38,     PP_UNKNOWN  | CMD_NONE,     "Geez, Twilight knows how to pick 'em..."      },
{   EV_NONE,    36,     PP_UNKNOWN  | CMD_NONE,     "What are you doing here then?"      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "I just want information regarding the crime you are being accused of."      },

{   EV_T_RDNAME, 36,    PP_PHOENIX  | CMD_ADDPROMPT, "What's your name?"    },
{   EV_NONE,     36,    PP_PHOENIX  | CMD_SELPROMPT, ""  },

{   EV_T_RDNAME,36,     PP_PHOENIX  | CMD_NONE,     "Let's start off with your name..."      },
{   EV_NONE,    39,     PP_RAINBOW  | CMD_NONE,     "I'm Rainbow Dash, best flier in Ponyville! Soon to be a household name in all of Equestria!"      },
{   EV_NONE,    39,     PP_RAINBOW  | CMD_NONE,     "Line up for my autograph starts over there!"      },
{   EV_NONE,    37,     PP_PHOENIX  | CMD_NONE,     "(Twilight Sparkle? Rainbow Dash?)"      },
{   EV_NONE,    37,     PP_PHOENIX  | CMD_NONE,     "(Is it me or are their names starting to sound like flavors of ice cream?)"      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "I am Phoenix Wright, best attorney in the... universe... apparently..."      },
{   EV_NONE,    40,     PP_RAINBOW  | CMD_NONE,     "Phoenix?"      },
{   EV_NONE,    40,     PP_RAINBOW  | CMD_NONE,     "Sweet name but it could sound cooler..."      },
{   EV_NONE,    39,     PP_PHOENIX  | CMD_NONE,     "Uuhh... \"cooler\"?"      },
{   EV_NONE,    37,     PP_RAINBOW  | CMD_NONE,     "I think I'll call you \"Nix\", that sounds cool!"      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "(Another strange name I can add to my nickname checklist.)"      },

{   EV_T_EARTHP, 36,    PP_PHOENIX  | CMD_ADDPROMPT, "You're an earth pony?"   },
{   EV_T_UNIP,   36,    PP_PHOENIX  | CMD_ADDPROMPT, "You're a unicorn?"   },
{   EV_T_PEGASUSP,36,   PP_PHOENIX  | CMD_ADDPROMPT, "You're a pegasus?"   },
{   EV_T_NOPONY, 36,    PP_PHOENIX  | CMD_ADDPROMPT, "Why are you in here?"    },
{   EV_NONE,     36,    PP_PHOENIX  | CMD_SELPROMPT, ""  },

{ EV_T_EARTHP,  36,     PP_PHOENIX  | CMD_NONE,     "Hmmm, so you are an... earth pony, correct?"      },
{   EV_NONE,    41,     PP_RAINBOW  | CMD_NONE,     "What the hay are you talking about? I'm not an earth pony, I'm a pegasus!"      },
{EV_T_BADGUESS, 41,     PP_RAINBOW  | CMD_JUMP,     ""      },

{   EV_T_UNIP,  36,     PP_PHOENIX  | CMD_NONE,     "Hmmm, so you are a... unicorn pony, correct?"      },
{   EV_NONE,    41,     PP_RAINBOW  | CMD_NONE,     "What the hay are you talking about? I'm not a unicorn, I'm a pegasus!"      },
{EV_T_BADGUESS, 41,     PP_RAINBOW  | CMD_JUMP,     ""      },

{ EV_T_PEGASUSP,36,     PP_PHOENIX  | CMD_NONE,     "Hmmm, so you are a... pegasus, correct?"      },
{   EV_NONE,    39,     PP_RAINBOW  | CMD_NONE,     "That's right! The BEST pegasus! Good for you, Nix!"      },
{EV_T_NOPONY,   41,     PP_RAINBOW  | CMD_JUMP,     ""      },

{EV_T_BADGUESS, 41,     PP_PHOENIX  | CMD_NONE,     "(It's kinda sad I couldn't get down a book with twelve words.)"      },

{ EV_T_NOPONY,  41,     PP_PHOENIX  | CMD_NONE,     "Uhh... never mind that. Why are you in here?"      },
{   EV_NONE,    40,     PP_RAINBOW  | CMD_NONE,     "Well, I guess I can tell you all I know..."      },
{   EV_NONE,    36,     PP_RAINBOW  | CMD_CLRPROMPT,"You see, last night a pegasus named \"Ace Swift\" was killed in the Everfree Forest."      },

{   EV_T_ACE,   36,    PP_PHOENIX  | CMD_ADDPROMPT, "Ace Swift"    },
{   EV_NONE,    36,    PP_PHOENIX  | CMD_SELPROMPT, ""  },

{   EV_T_ACE,   36,     PP_PHOENIX  | CMD_NONE,     "Do you know anything about him?"      },
{   PP_ACE,    37,     PP_RAINBOW  | CMD_ADDEV,     "Sure do, he was a hot shot racer expected to win the \"Equestrian 500\"."      },

{   EV_T_EQ500, 36,    PP_PHOENIX  | CMD_ADDPROMPT, "Equestrian 500"    },
{   EV_NONE,    36,    PP_PHOENIX  | CMD_SELPROMPT, ""  },

{   EV_T_EQ500, 37,     PP_PHOENIX  | CMD_NONE,     "\"Equestrian 500\"?"      },
{   EV_NONE,    37,     PP_RAINBOW  | CMD_NONE,     "A grueling race for pegasi, enduring a five hundred mile journey around Equestria."      },
{   EV_NONE,    37,     PP_RAINBOW  | CMD_NONE,     "He was the top pick to win the whole thing."      },
{   EV_NONE,    39,     PP_RAINBOW  | CMD_NONE,     "Dont worry though..."      },

{   EV_T_DONTWORRY, 36, PP_PHOENIX  | CMD_ADDPROMPT, "Don't worry?"    },
{   EV_T_HOWDIE, 36,    PP_PHOENIX  | CMD_ADDPROMPT, "How did he die?"    },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_SELPROMPT, ""  },

{   EV_T_DONTWORRY, 39, PP_PHOENIX  | CMD_NONE,     "\"Don't worry\"? About what?"      },
{   EV_NONE,    37,     PP_RAINBOW  | CMD_NONE,     "I still would have won even if he were still alive, ha!"      },
{   EV_NONE,    37,     PP_PHOENIX  | CMD_NONE,     "Let me guess, you were planning on entering that race as well?"      },
{   EV_NONE,    42,     PP_RAINBOW  | CMD_NONE,     "Of course! The winner gets special lessons from the Wonderbolts!"      },
{   EV_NONE,    42,     PP_PHOENIX  | CMD_NONE,     "Who are \"The Wonderbolts\"?"      },
{   EV_NONE,    36,     PP_RAINBOW  | CMD_NONE,     "You don't know who the Wonderbolts are?"      },
{   EV_NONE,    35,     PP_RAINBOW  | CMD_NONE,     "You living under a rock or something?!"      },
{   EV_NONE,    35,     PP_PHOENIX  | CMD_NONE,     "Hey, I'm new here! Cut me some slack!"      },
{   EV_NONE,    43,     PP_RAINBOW  | CMD_NONE,     "*Sigh*"      },
{   EV_NONE,    41,     PP_RAINBOW  | CMD_NONE,     "\"THE\" Wonderbolts are only the most coolest ponies in all of Equestria!"      },
{   EV_NONE,    41,     PP_RAINBOW  | CMD_NONE,     "They are the Princess' personal aerial acrobatic team. The stunts they perform are nine degrees of cool!"      },
{   EV_NONE,    36,     PP_RAINBOW  | CMD_NONE,     "You see, I've been trying to get in their group forever and the Equestrian 500 is my ticket to show off my slick moves to them."      },
{   EV_NONE,    37,     PP_RAINBOW  | CMD_NONE,     "I'd do anything to get that chance!"      },
{   EV_NONE,    37,     PP_PHOENIX  | CMD_NONE,     "(Thank you for effectively establishing motive for yourself, Ms. Dash, this helps your case so much...)"      },

{   EV_NONE,    36,     PP_PHOENIX  | CMD_SELPROMPT, ""  },

{   EV_T_HOWDIE, 37,    PP_PHOENIX  | CMD_NONE,     "So how did this guy die?"      },
{   EV_NONE,    36,     PP_RAINBOW  | CMD_NONE,     "Pony."      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "Wha...?"      },
{   EV_NONE,    36,     PP_RAINBOW  | CMD_NONE,     "\"How did this pony die?\" is what you mean, Nix."      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "(Well excuse me, I didn't take \"Hooked on Ponyics\")"      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "The point is, how did he die?"      },
{   EV_NONE,    40,     PP_RAINBOW  | CMD_NONE,     "How should I know? I didn't do it..."      },

{   EV_T_ARREST,36,    PP_PHOENIX  | CMD_ADDPROMPT, "Arrest?"    },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_SELPROMPT, ""  },

{   EV_T_ARREST,40,     PP_PHOENIX  | CMD_NONE,     "Then why did they take you in?"      },
{   EV_NONE,    36,     PP_RAINBOW  | CMD_NONE,     "I just happened to be flying near the Everfree Forest that night..."      },
{   EV_NONE,    35,     PP_RAINBOW  | CMD_NONE,     "Then those chuckleheads burst into my house and brought me here, saying \"I did it\"!"      },
{   EV_NONE,    36,     PP_RAINBOW  | CMD_NONE,     "They even said that they had lots of proof but I would never do that to another pony!"      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "They just took you in like that?"      },
{   EV_NONE,    45,     PP_RAINBOW  | CMD_STOPMUS,  "They said they are going to banish me..."      },
{   EV_NONE,    45,     PP_PHOENIX  | CMD_NONE,     "So I heard..."      },
{   EV_NONE,    45,     PP_RAINBOW  | CMD_MUSELEGY, "Everyone thinks I did it, everyone!"      },
{   EV_NONE,    45,     PP_RAINBOW  | CMD_NONE,     "The Wonderbolts probably hate me..."      },
{   EV_NONE,    36,     PP_RAINBOW  | CMD_NONE,     "But you believe me, right?"      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "Well, I-I guess, but not everyone thinks you did it..."      },
{   EV_NONE,    40,     PP_RAINBOW  | CMD_NONE,     "Huh?"      },
{   EV_NONE,    40,     PP_PHOENIX  | CMD_NONE,     "Your friend Twilight seems to have faith in you, otherwise I wouldn't be in this mess..."      },
{   EV_NONE,    44,     PP_RAINBOW  | CMD_NONE,     "Heh, you're right I guess. Twilight's a real pal..."      },
{   EV_NONE,    36,     PP_RAINBOW  | CMD_NONE,     "What do you mean by \"mess\", anyway?"      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "As you can probably guess: I'm not from Equestria."      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "Your purple friend pulled me out of my world because she accidentally called the \"Greatest Defense Attorney\"... and that happened to be me."      },
{   EV_NONE,    39,     PP_RAINBOW  | CMD_NONE,     "Awesome! It's only fitting, the best pegasus ever gets the best lawyer ever!"      },
{   EV_NONE,    39,     PP_RAINBOW  | CMD_NONE,     "You were destined to defend me!"      },
{   EV_NONE,    39,     PP_PHOENIX  | CMD_NONE,     "(This one's ego is larger than Detective Gumshoe's appetite for instant noodles.)"      },
{   EV_NONE,    36,     PP_RAINBOW  | CMD_NONE,     "Nix, as much as I hate asking for help..."      },
{   EV_NONE,    44,     PP_RAINBOW  | CMD_NONE,     "Can you PAH-LEEES be my Attorney?"      },
{   EV_NONE,    44,     PP_PHOENIX  | CMD_CLRPROMPT,"(I feel kind of sorry for her, she sounds like she is telling the truth and I want to say yes... but should I...?)"      },

{   EV_T_BELIEVE,36,    PP_PHOENIX  | CMD_ADDPROMPT, "Believe her"    },
{   EV_T_MAKESURE,36,   PP_PHOENIX  | CMD_ADDPROMPT, "Make sure"    },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_SELPROMPT, ""  },

{   EV_T_BELIEVE,44,    PP_PHOENIX  | CMD_NONE,     "Well... oh, wait a minute!"      },
{   EV_NONE,    46,     PP_PHOENIX  | CMD_NONE,     "(I believe her but I better make sure...)"      },
{   EV_T_CHECKDASH, 36, PP_PHOENIX  | CMD_JUMP,     ""  },

{   EV_T_MAKESURE, 47,  PP_PHOENIX  | CMD_NONE,     "(I think I better make sure...)"  },

{   EV_T_CHECKDASH, 47, PP_PHOENIX  | CMD_NONE,     "Magatama: A gift from Maya. Allows me to see if anyone is hiding any deep secret in their heart from me."  },
{   EV_NONE,    48,     PP_RAINBOW  | CMD_NONE,     "Is that a toy? You look a little old to be playing with toys, Nix."      },
{   EV_NONE,    49,     PP_PHOENIX  | CMD_NONE,     "Look, Rainbow Dash, I am going to ask you this and I want you to tell me the absolute 100% truth!"      },
{   EV_NONE,    49,     PP_PHOENIX  | CMD_STOPMUS,  "Did you have ANYTHING to do with the death of \"Ace Swift\"?"      },
{   EV_NONE,    50,     PP_RAINBOW  | CMD_CRASHSFX, "I told you... I DIDN'T KILL ANYPONY!"      },
{   EV_NONE,    50,     PP_PHOENIX  | CMD_NONE,     "..."      },
{   EV_NONE,    49,     PP_PHOENIX  | CMD_NONE,     "(Nothing... it's certain then. She really didn't do it.)"      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "Okay Rainbow Dash..."      },
{   EV_NONE,    36,     PP_RAINBOW  | CMD_NONE,     "What? Why did you go all silent there?"      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "I've decided to take your case, I trust you."      },
{   EV_NONE,    39,     PP_RAINBOW  | CMD_MUSGUILTY,"Yes! Alright! I know you can do it Nix!"      },
{   EV_NONE,    39,     PP_PHOENIX  | CMD_NONE,     "I suppose the first thing I should do is investigate the scene of the crime for some evidence to prove your innocence. Where was it again?"      },
{   EV_NONE,    37,     PP_RAINBOW  | CMD_NONE,     "A clearing in the Everfree Forest."      },
{   EV_NONE,    37,     PP_PHOENIX  | CMD_NONE,     "Everfree Forest?"      },
{   EV_NONE,    36,     PP_RAINBOW  | CMD_NONE,     "Yeah, it's about fifteen minutes from Fluttershy's house."      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "Fluttershy... huh..."      },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_NONE,     "(Probably another pony...)"      },
{   EV_NONE,    37,     PP_RAINBOW  | CMD_NONE,     "Well good luck Nix, you may look a little strange but you're okay in my book!"      },
{   EV_NONE,    37,     PP_PHOENIX  | CMD_NONE,     "(\"I\" look a little strange?! Coming from the \"Roy G Biv\" pony with wings, you look strange even by Ponyville standards!)"      },
{   EV_NONE,    37,     PP_PHOENIX  | CMD_NONE,     "Oh... right, there was one more question I wanted to ask you..."      },
{   EV_NONE,    40,     PP_RAINBOW  | CMD_CLRPROMPT,"Shoot!"      },

{   EV_T_WHYTHERE,36,   PP_PHOENIX  | CMD_ADDPROMPT, "What were you doing?"    },
{   EV_NONE,    36,     PP_PHOENIX  | CMD_SELPROMPT, ""  },

{   EV_T_WHYTHERE, 40,  PP_PHOENIX  | CMD_NONE,     "What were you doing near the scene of the crime anyway?"      },
{   EV_NONE,    45,     PP_RAINBOW  | CMD_STOPMUS,  "Uh..."      },
{   EV_NONE,    45,     PP_PHOENIX  | CMD_NONE,     "Well?"      },
{   EV_NONE,    45,     PP_RAINBOW  | CMD_NONE,     "I-I was practicing for the Equestrian 500."      },
{   EV_NONE,    51,     PP_RAINBOW  | CMD_LOCKSFX,  "Yep, that's what I was doing... practicing for the big race!"      },
{   EV_NONE,    52,     PP_PHOENIX  | CMD_NONE,     "(Psyche-locks... you're a bad liar. Even without this thing I can tell that you are hiding something from me.)"      },
{   EV_NONE,    38,     PP_PHOENIX  | CMD_NONE,     "Look Rainbow Dash, if I am going to defend you, you're going to need to be honest with me..."      },
{   EV_NONE,    45,     PP_RAINBOW  | CMD_NONE,     "I told you a dozen times already, I didn't do it!"      },
{   EV_NONE,    35,     PP_PHOENIX  | CMD_NONE,     "I am not saying you did it! I'm just wondering what you were doing near the scene of the crime."      },
{   EV_NONE,    45,     PP_RAINBOW  | CMD_NONE,     "Um... well... uh-oh...!"      },
{   EV_NONE,    37,     PP_RAINBOW  | CMD_NONE,     "Looks like visiting hours are over!"      },
{   EV_NONE,    39,     PP_RAINBOW  | CMD_NONE,     "Catch ya later, Nix!"      },
{   EV_NONE,    34,     PP_PHOENIX  | CMD_NONE,     "Hey! No they aren't! There are still five minutes left!"      },
{   EV_NONE,    34,     PP_PHOENIX  | CMD_NONE,     "She's gone..."      },
{   EV_NONE,    34,     PP_PHOENIX  | CMD_NONE,     "Oh well, I probably need more information to pursue that any further anyway. As long as she didn't do it that is all I need to know for now."      },
    
{   4,          34,     PP_NONE     | CMD_ENDSTORY, ""  }   // go to location 4

};
#endif

#ifdef LOCATION_IS_4
//      story                                    //  0                               1                               2                               3                               4                               5                               6                               7
const Story_t story[] =  {                       //  0123456789012345678901234567890101234567890123456789012345678901012345678901234567890123456789010123456789012345678901234567890101234567890123456789012345678901012345678901234567890123456789010123456789012345678901234567890101234567890123456789012345678901
{   EV_NONE,    17,     PP_NONE     | CMD_NONE  ,   "Ponyville June 9th, 10:30PM"   },
{   EV_NONE,    20,     PP_TWILIGHT | CMD_CHIMESFX, "Phoenix! How did it go?"   },
{   EV_NONE,    19,     PP_PHOENIX  | CMD_NONE  ,   "I have decided to represent Rainbow Dash."   },
{   EV_NONE,    20,     PP_TWILIGHT | CMD_NONE  ,   "Oh, thank you so much Mr. Wright!"   },
{   EV_NONE,    20,     PP_PHOENIX  | CMD_NONE  ,   "She said she didn't do it and I can't turn my back on the innocent, or let them be punished for something they didn't do."   },
{   EV_NONE,    21,     PP_TWILIGHT | CMD_NONE  ,   "You share a very similar trait to Rainbow Dash, Mr. Wright."   },
{   EV_NONE,    21,     PP_PHOENIX  | CMD_NONE  ,   "I do? Am I really that obnoxious?"   },
{   EV_NONE,    20,     PP_TWILIGHT | CMD_NONE  ,   "No, you are very loyal."   },
{   EV_NONE,    20,     PP_TWILIGHT | CMD_NONE  ,   "She probably may not have looked it, but Rainbow Dash is probably really scared about what is going to happen to her."   },
{   EV_NONE,    20,     PP_TWILIGHT | CMD_NONE  ,   "So she needs all the support she can get right now."   },
{   EV_NONE,    19,     PP_PHOENIX  | CMD_NONE  ,   "Now that you mention it, she did seem awfully chipper for someone who is the prime suspect for murder."   },
{   EV_NONE,    33,     PP_TWILIGHT | CMD_NONE  ,   "I can't imagine what it must be like..."   },
{   EV_NONE,    33,     PP_PHOENIX  | CMD_NONE  ,   "I have been in that place before."   },
{   EV_NONE,    19,     PP_TWILIGHT | CMD_NONE  ,   "\"That place\"?"   },
{   EV_NONE,    19,     PP_TWILIGHT | CMD_CHIMESFX, "What do you mean by that, Phoenix?"   },
{   EV_NONE,    19,     PP_PHOENIX  | CMD_MUSRECALL,"I have been on trial for crimes I didn't commit, I know how she probably feels."   },
{   EV_NONE,    19,     PP_TWILIGHT | CMD_BLACK ,   "You have?"   },
{   EV_NONE,    19,     PP_PHOENIX  | CMD_BLACK ,   "It felt dark and lonely having nobody to turn to."   },
{   EV_NONE,    53,     PP_PHOENIX  | CMD_NONE  ,   "Feeling as if the whole world was against me and nobody could help..."   },
{   EV_NONE,    54,     PP_PHOENIX  | CMD_NONE  ,   "Once when I was just a kid, my whole class accused me of stealing and we had this stupid \"Class Trial\"."   },
{   EV_NONE,    54,     PP_PHOENIX  | CMD_NONE  ,   "The other time was a little more serious..."   },
{   EV_NONE,    55,     PP_PHOENIX  | CMD_NONE  ,   "I was framed for murder by someone who I thought cared for me."   },
{   EV_NONE,    55,     PP_PHOENIX  | CMD_STOPMUS,  "I learned the hard way appearances can be deceiving..."   },
{   EV_NONE,    56,     PP_PHOENIX  | CMD_MUSSISTER,"But I was lucky to have friends who pulled me out of that darkness."   },
{   EV_NONE,    56,     PP_PHOENIX  | CMD_NONE  ,   "It really touched me..."   },
{   EV_NONE,    56,     PP_PHOENIX  | CMD_NONE  ,   "It's what made me decide to become a defense attorney."   },
{   EV_NONE,    57,     PP_PHOENIX  | CMD_NONE  ,   "A defense attorney is someone who is there for you when times are grim."   },
{   EV_NONE,    57,     PP_PHOENIX  | CMD_NONE  ,   "Showing you have someone who trusts and believes in you - that you are not alone."   },
{   EV_NONE,    58,     PP_PHOENIX  | CMD_NONE  ,   "Smiling to the very end no matter how bad things may get."   },
{   EV_NONE,    59,     PP_TWILIGHT | CMD_NONE,  "Mr. Wright... You know, I was going to study some law and justice books and be Rainbow Dash's defense attorney myself if you declined."   },
{   EV_NONE,    21,     PP_TWILIGHT | CMD_NONE  ,   "But I see now that there is some knowledge out there even books can't teach."   },
{   EV_NONE,    20,     PP_TWILIGHT | CMD_NONE  ,   "It was no mistake choosing you to be Rainbow Dash's lawyer!"   },
{   EV_NONE,    20,     PP_PHOENIX  | CMD_STOPMUS,  "(\"Choose\"? Didn't you bring me here by accident?)"   },
{   EV_NONE,    19,     PP_TWILIGHT | CMD_NONE  ,   "So did you learn anything else from Rainbow Dash?"   },
{   EV_NONE,    19,     PP_PHOENIX  | CMD_NONE  ,   "Yes, she said the crime scene was in the clearing of the \"Everfree Forest\" near \"Butshersty's\" house."   },
{   EV_NONE,    18,     PP_TWILIGHT | CMD_NONE  ,   "\"Butshersty\"?"   },
{   EV_NONE,    20,     PP_TWILIGHT | CMD_NONE  ,   "Oh-oh! You mean Fluttershy!"   },
{   EV_NONE,    20,     PP_PHOENIX  | CMD_NONE  ,   "Do you know the way?"   },
{   EV_NONE,    21,     PP_TWILIGHT | CMD_NONE  ,   "Sure do!"   },
{   EV_NONE,    21,     PP_PHOENIX  | CMD_NONE  ,   "Let's go then."   },

{   5,          34,     PP_NONE     | CMD_ENDSTORY, ""  }   // go to location 5

};
#endif

#ifdef LOCATION_IS_5
//      story                                        //  0                               1                               2                               3                               4                               5                               6                               7
const Story_t story[] =  {                           //  0123456789012345678901234567890101234567890123456789012345678901012345678901234567890123456789010123456789012345678901234567890101234567890123456789012345678901012345678901234567890123456789010123456789012345678901234567890101234567890123456789012345678901
{   EV_NONE,    60,     PP_NONE         | CMD_NONE,     "Fluttershy's Cottage June 9th, 11:16PM"    },
{   EV_NONE,    61,     PP_TWILIGHT     | CMD_NONE,     "Phoenix, we should stop here."    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "Why's that?"    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "Oh! This must be Flutterscotch's house. We can probably question her to see if she saw anything last night."    },
{   EV_NONE,    61,     PP_TWILIGHT     | CMD_NONE,     "Her name is Fluttershy..."    },
{   EV_NONE,    61,     PP_TWILIGHT     | CMD_NONE,     "And those were my thoughts exactly."    },
{   EV_NONE,    62,     PP_UNKNOWN      | CMD_CHIMESFX, "*Gasp*"    },
{PP_FLUTTERSHY, 63,     PP_TWILIGHT     | CMD_ADDEV,    "Hey Fluttershy, meet Mr. Wright! He's Rainbow Dash's lawyer."    },
{   EV_NONE,    64,     PP_PHOENIX      | CMD_NONE,     "Hello there, nice to meet you."    },
{   EV_NONE,    65,     PP_FLUTTERSHY   | CMD_NONE,     "..."    },
{   EV_NONE,    65,     PP_PHOENIX      | CMD_NONE,     "So Ponyville is a really nice place, huh?"    },
{   EV_NONE,    65,     PP_PHOENIX      | CMD_NONE,     "(Talk about quiet, certainly lives up to her name.)"    },
{   EV_NONE,    66,     PP_FLUTTERSHY   | CMD_CHIMESFX, "*Whisper*"    },
{   EV_NONE,    67,     PP_TWILIGHT     | CMD_NONE,     "Oh... Oh... Okay..."    },
{   EV_NONE,    67,     PP_PHOENIX      | CMD_NONE,     "W-what's she saying?"    },
{   EV_NONE,    67,     PP_TWILIGHT     | CMD_NONE,     "She is saying suits and ties intimidate her."    },
{   EV_NONE,    65,     PP_PHOENIX      | CMD_NONE,     "(Trust me, they scare me too.)"    },
{   EV_NONE,    61,     PP_TWILIGHT     | CMD_NONE,     "And..."    },
{   EV_NONE,    67,     PP_TWILIGHT     | CMD_NONE,     "Uh... Nevermind."    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "Tell me! She can rest assured, she has nothing to fear."    },
{   EV_NONE,    61,     PP_TWILIGHT     | CMD_NONE,     "Well..."    },
{   EV_NONE,    68,     PP_TWILIGHT     | CMD_NONE,     "She says she is afraid if she gets too close to that pointy... \"beast\" on your head, it might... poke her eye out."    },
{   EV_NONE,    68,     PP_PHOENIX      | CMD_FALLSFX,  "(Seriously, the hair jokes are getting old!)"    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "So she isn't going to speak to me?"    },
{   EV_NONE,    67,     PP_TWILIGHT     | CMD_NONE,     "Sorry, she is kind of shy."    },
{   EV_NONE,    65,     PP_PHOENIX      | CMD_NONE,     "No kidding..."    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "Let's go to the crime scene then. We're not going to get any info here if she is refusing to speak to me."    },
{   EV_NONE,    69,     PP_TWILIGHT     | CMD_NONE,     "The crime scene is right over here, Phoenix."    },
{   EV_NONE,    69,     PP_PHOENIX      | CMD_NONE,     "Okay."    },
{   EV_NONE,    70,     PP_PHOENIX      | CMD_CHIMESFX, "Huh?"    },
{   EV_NONE,    70,     PP_FLUTTERSHY   | CMD_NONE,     "A... \"Phoenix\"?"    },
{   EV_NONE,    70,     PP_PHOENIX      | CMD_NONE,     "Y-yeah, that is my name."    },
{   EV_NONE,    71,     PP_FLUTTERSHY   | CMD_MUSPEARLY,"Oh my, I am so sorry, I didn't know!"    },
{   EV_NONE,    71,     PP_PHOENIX      | CMD_NONE,     "Know what?"    },
{   EV_NONE,    72,     PP_FLUTTERSHY   | CMD_NONE,     "That you were a phoenix. I have only seen one other phoenix in my life."    },
{   EV_NONE,    73,     PP_FLUTTERSHY   | CMD_NONE,     "This is so great, you can speak."    },
{   EV_NONE,    73,     PP_PHOENIX      | CMD_NONE,     "Come again?"    },
{   EV_NONE,    73,     PP_FLUTTERSHY   | CMD_NONE,     "No wonder you look so homely and sick. Don't worry though, soon you will rise from your ashes into a beautiful bird of fire!"    },
{   EV_NONE,    72,     PP_PHOENIX      | CMD_NONE,     "(Did I just get insulted?)"    },
{   EV_NONE,    72,     PP_PHOENIX      | CMD_NONE,     "But I'm not a..."    },
{   EV_NONE,    74,     PP_TWILIGHT     | CMD_NONE,     "Phoenix!"    },
{   EV_NONE,    74,     PP_PHOENIX      | CMD_NONE,     "What?"    },
{   EV_NONE,    61,     PP_TWILIGHT     | CMD_NONE,     "She is speaking to you, just go along with it."    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "Oh, that's right..."    },
{   EV_NONE,    72,     PP_PHOENIX      | CMD_NONE,     "Yup! I'm a Phoenix, Firefly."    },
{   EV_NONE,    75,     PP_FLUTTERSHY   | CMD_NONE,     "My name is Fluttershy, Mr. Phoenix."    },
{   EV_NONE,    71,     PP_FLUTTERSHY   | CMD_NONE,     "But you can call me whatever you want..."    },
{   EV_NONE,    71,     PP_PHOENIX      | CMD_NONE,     "Right..."    },
{   EV_NONE,    71,     PP_PHOENIX      | CMD_NONE,     "So Fluttershy, I take it you know about your friend Rainbow Dash?"    },
{   EV_NONE,    70,     PP_FLUTTERSHY   | CMD_NONE,     "Yes I do..."    },
{   EV_NONE,    65,     PP_FLUTTERSHY   | CMD_NONE,     "Oh, poor Rainbow Dash, she must be so scared right now."    },
{   EV_NONE,    65,     PP_PHOENIX      | CMD_NONE,     "That's why I need your help."    },
{   EV_NONE,    70,     PP_FLUTTERSHY   | CMD_NONE,     "How can I help, Mr. Phoenix?"    },

{   EV_T_FSEE,  70,     PP_FLUTTERSHY  | CMD_ADDPROMPT, "Did you see anything?"    },
{   EV_NONE,    70,     PP_FLUTTERSHY  | CMD_SELPROMPT, ""  },

{   EV_T_FSEE,  70,     PP_PHOENIX      | CMD_NONE,     "You live right near the crime scene."    },
{   EV_NONE,    70,     PP_PHOENIX      | CMD_NONE,     "Did you see anything suspicious last night?"    },
{   EV_NONE,    75,     PP_FLUTTERSHY   | CMD_NONE,     "Why, yes, I did."    },
{   EV_NONE,    75,     PP_PHOENIX      | CMD_NONE,     "That's great! Tell me everything you know!"    },
{   EV_NONE,    70,     PP_FLUTTERSHY   | CMD_NONE,     "Well, I saw-"    },
{   EV_NONE,    65,     PP_FLUTTERSHY   | CMD_CHIMESFX, "Oops... Oh, I'm so sorry Mr. Phoenix..."    },
{   EV_NONE,    65,     PP_FLUTTERSHY   | CMD_NONE,     "The other ponies told me not to say a word to anyone about last night until I was on the stand."    },
{   EV_NONE,    65,     PP_FLUTTERSHY   | CMD_NONE,     "Whatever that means..."    },
{   EV_NONE,    65,     PP_PHOENIX      | CMD_FLASH,    "Wait a minute, you're a witness!?"    },
{   EV_NONE,    75,     PP_FLUTTERSHY   | CMD_NONE,     "I don't even know what that is Mr. Phoenix."    },
{   EV_NONE,    75,     PP_PHOENIX      | CMD_CLRPROMPT, "(You sure your name isn't \"FlutterNaive\"?)"    },

{   EV_T_FBEG,  70,     PP_FLUTTERSHY  | CMD_ADDPROMPT, "Please tell me what you saw!"    },
{   EV_T_FWORK, 70,     PP_FLUTTERSHY  | CMD_ADDPROMPT, "What do you do for work?"    },
{   EV_NONE,    70,     PP_FLUTTERSHY  | CMD_SELPROMPT, ""  },

{   EV_T_FBEG,  70,     PP_PHOENIX      | CMD_NONE,     "It's okay, it'll be our little secret. Just tell me what you saw."    },
{   EV_NONE,    61,     PP_TWILIGHT     | CMD_NONE,     "Come on Fluttershy. We need to know."    },
{   EV_NONE,    65,     PP_FLUTTERSHY   | CMD_NONE,     "I'm sorry Twilight, but I don't want those ponies to be mad at me..."    },
{   EV_NONE,    65,     PP_PHOENIX      | CMD_NONE,     "*sigh* Why can this never be easy?"    },

{   EV_NONE,    70,     PP_FLUTTERSHY  | CMD_SELPROMPT, ""  },

{   EV_T_FWORK, 65,     PP_PHOENIX      | CMD_NONE,     "So what is it you do, Fluttershy?"    },
{   EV_NONE,    76,     PP_FLUTTERSHY   | CMD_NONE,     "I take care of my little animal friends, of course."    },
{   EV_NONE,    72,     PP_PHOENIX      | CMD_NONE,     "So you're good with animals, huh?"    },
{   EV_NONE,    72,     PP_PHOENIX      | CMD_NONE,     "(I don't find it surprising, since she is an animal herself.)"    },
{   EV_NONE,    71,     PP_FLUTTERSHY   | CMD_NONE,     "Why yes, I can introduce you to them if you want..."    },
{   EV_NONE,    71,     PP_PHOENIX      | CMD_NONE,     "That is alright, we're kind of busy."    },
{   EV_NONE,    65,     PP_FLUTTERSHY   | CMD_NONE,     "Oh my! I'm so sorry, I didn't mean to bother you..."    },
{   EV_NONE,    65,     PP_PHOENIX      | CMD_NONE,     "It's all right... no need to apologize."    },
{   EV_NONE,    61,     PP_TWILIGHT     | CMD_NONE,     "We have to get going, Fluttershy. We'll talk to you later."    },
{   EV_NONE,    72,     PP_FLUTTERSHY   | CMD_NONE,     "Alright, bye Twilight! Bye Mr. Phoenix!"    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "At least I got her trust, it will be a little easier inevitably cross examining her when we are in court."    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "Speaking of that... when is the trial, anyway?"    },
{   EV_NONE,    67,     PP_TWILIGHT     | CMD_NONE,     "Tomorrow morning."    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_STOPMUS,  "Oh. Tomorrow morning..."    },
{   EV_NONE,    77,     PP_PHOENIX      | CMD_FLASH,    "TOMORROW MORNING!?"    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "As in \"tomorrow\" tomorrow!?"    },
{   EV_NONE,    67,     PP_TWILIGHT     | CMD_NONE,     "Yup. \"Tomorrow\" tomorrow."    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "So I have only a few hours to gather evidence and present a case!?"    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "(Phoenix, what have you gotten yourself into...?)"    },
{   EV_NONE,    77,     PP_TWILIGHT     | CMD_NONE,     "Oh my gosh! I totally lost track of time!"    },
{   EV_NONE,    78,     PP_TWILIGHT     | CMD_NONE,     "I have been trying to get a suitable lawyer all day long, I was just going to give up after you."    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "Give up after me? You mean I'm not the only lawyer you have spoken with today?"    },
{   EV_NONE,    79,     PP_TWILIGHT     | CMD_NONE,     "That is correct. They all declined though... as soon as murder was brought up."    },
{   EV_NONE,    79,     PP_PHOENIX      | CMD_NONE,     "Don't worry, murder cases aren't anything new to me. I have a lot of experience with them. Rainbow Dash couldn't be in any better hands."    },
{   EV_NONE,    63,     PP_TWILIGHT     | CMD_NONE,     "Thank you again for accepting this, Phoenix!"    },
{   EV_NONE,    61,     PP_TWILIGHT     | CMD_NONE,     "But we better hurry to the crime scene though."    },
{   EV_NONE,    61,     PP_PHOENIX      | CMD_NONE,     "Right!"    },

{   6,          61,     PP_NONE         | CMD_ENDSTORY, ""  }   // go to location 6

};
#endif

#ifndef LOCATION_IS_LOADER
// a value that can be referenced externally, though I don't plan to check everything
int nStorySize = sizeof(story)/sizeof(story[0]);
#endif

